<div class="bg-amber-100 p-6 rounded-lg">
  <h2 class="text-xl font-bold mb-4">Connexion</h2>

  <% if flash[:alert] %>
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
      <%= flash[:alert] %>
    </div>
  <% end %>

  <% if flash[:notice] %>
    <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
      <%= flash[:notice] %>
    </div>
  <% end %>

  <%= simple_form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
    <div class="form-inputs text-white">
      <%= f.input :email,
                  required: false,
                  autofocus: true,
                  input_html: { autocomplete: "email" } %>
      <%= f.input :password,
                  required: false,
                  input_html: { autocomplete: "current-password" } %>
      <%= f.input :remember_me, as: :boolean if devise_mapping.rememberable? %>
    </div>

    <div class="form-actions mt-4">
      <button type="submit" class="w-full bg-slate-900 text-white py-2 px-4 rounded hover:bg-slate-800">
        Se connecter
      </button>
    </div>
  <% end %>

  <div class="mt-4">
    <%= render "devise/shared/links" %>
  </div>

  <!-- Affichage de débogage temporaire -->
  <% if Rails.env.development? %>
    <div class="mt-6 p-4 bg-gray-100 rounded text-xs font-mono">
      <p>Debug info:</p>
      <p>Email utilisé: <%= params[:user][:email] if params[:user] %></p>
    </div>
  <% end %>
</div>
